
%%%%%%%%%%%%%%%%%%%%%%%% TEMPLATE INFO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Template Name = cpe-thesis-en
%: Version Name  = th-vectier-1.1
%: Credits
%: - Peerapon Siripongwutikorn, CPE, 2016
%: - Wuttipat Chokananatasab, FIBO, 2016
%: - Thanin Srithai, CPE, 2021
%: - Jatetanan Kanchanawat, CPE, 2023
%:
%: This is a LaTeX template used in CPE, KMUTT thesis.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Instructions:
%: Run at the command line:
%: - xelatex <filename> or latexmk -xelatex <filename> to compile
%: tex files
%: - bibtex <filename> or biber <filename> to compile bib file
%: Note: Run a few times to generate the output pdf file
%:
%%%%%%%%%%%%%%%%%%%%%%%%%% REPORT START %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[12pt,one side,openright,a4paper]{cpe-thesis-en}

%%%%%%%%%%%%%%%%%%%%%% Packages and Configs %%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{color}
\usepackage{pgfgantt}                   % Gantt chart
\usepackage{xcolor}
\usepackage{polyglossia}                % Thai language script and format
\usepackage{caption}                    % Figures and tables captions

\usepackage{etoolbox}                   % Patching commands for macros creating i.e. preto
\usepackage{longtable}                  % Long continuous table
\usepackage{ragged2e}                   % Forcing figure
\usepackage{float}                      % ER and checkmark
\usepackage{tikz}                       % Drawing graphs and symbols
\usepackage{subfig}                     % Subfigures
\usepackage{keyval}                     % Subfigures alignment
\usepackage[export]{adjustbox}          % Subfigures aLignment
\usepackage{cleveref}                   % Clever label references

\usepackage{lmodern}
\usepackage{listings}                   % Listings as code blocks
\usepackage{packages/listings-go}       % Listings support for Golang
\usepackage{packages/listings-js}       % Listings support for JavaScript and ES6
\usepackage{packages/listings-yaml}     % Listing support for YAML

\usepackage{multirow}

%: # Biblatex
%: Bib manager; instead of using \bibliography{}
%: NOTE: Biblatex defines typesetting onto compilation cache.
%: So recompile from scratch (Delete all aux, bbl, and other output files, then recompile)
%: everytime you stopped using biblatex

% \usepackage[
%     backend=bibtex,     % Biber or Bibtex
%     style=ieee,         % Bib standard
%     sorting=none,       % Sort by appearance in paper
%     % sorting=ynt,       % Sort by year, name...
%     % sortcites=true,    % Some other example options
%     dateabbrev=true,
%     urldate=long,
%     block=none,
%     indexing=false,
%     citereset=none,
%     isbn=true,
%     url=true,
%     language=english,
%     doi=true,           % Prints DOI
%     natbib=true         % if you need Natbib functions
% ]{biblatex}

%%%%%%%%%%%%%%%%%%% Custom macros & Settings %%%%%%%%%%%%%%%%%%%%%%%%
%: From this part to \begin{document}
%: Do not modify unless you know what you are doing...


%: # Biblatex macro
%: Uncomment all of these if you're using biblatex

%: Setup URL access date string
% \DefineBibliographyStrings{english}{%
%     urlseen = {accessed}
% }

%: Reference bib files
%: Make sure you reference correct bib file...
% \addbibresource{bib/codern.bib}

%: # Typography
%: Define 1st and 2nd language
\setdefaultlanguage{english}
\setotherlanguage{thai}
\emergencystretch=10pt

%: Define fonts for code blocks
\newfontfamily\codefont[Scale=0.95]{CourierPrime.ttf}[
    Path=fonts/,
    Extension=.ttf,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    BoldItalicFont=*-BoldItalic,
]

\newcommand{\engjustify}[1]{%
  \par\hspace{30pt}\justifying
  #1
}
\newcommand{\thaijustify}[1]{%
  \par\hspace{30pt}\justifying
  #1
}

%: # Tikz Settings
%: Tikz is used for drawing simple edge and node graph
%: Import shapes for usage
\usetikzlibrary{er, positioning, shapes.geometric, arrows, matrix}

%: Define checkmark symbol
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

%: # Listings Settings
%: Listings are used for displaying the program or
%: codes in reports as statement

%: Define text color for code blocks
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{AllColor}{HTML}{F4A300}
\definecolor{ShayathipColor}{HTML}{5B9BD5}
\definecolor{RaminColor}{HTML}{70AD47}

%: Go code snippets setting
\lstset{
    frame=tb,
    language=Golang,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\codefont},
    numbers=left,
    numberstyle=\small\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    breaklines=false,
    breakatwhitespace=false,
    tabsize=3
}

%: # Math macro
%: Fraction settings
\renewcommand{\topfraction}{0.85}
\renewcommand{\textfraction}{0.1}

%: # Define theorem and proof
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}

\def\QED{\mbox{\rule[0pt]{1.5ex}{1.5ex}}}
\def\proof{\noindent\hspace{2em}{\itshape Proof: }}
\def\endproof{\hspace*{\fill}~\QED\par\endtrivlist\unskip}

%\newenvironment{proof}{{\sc Proof:}}{~\hfill \blacksquare}
%% The hyperref package redefines the \appendix. This one
%% is from the dissertation.cls
%\def\appendix#1{\iffirstappendix \appendixcover \firstappendixfalse \fi \chapter{#1}}
%\renewcommand{\arraystretch}{0.8}

%%%%%%%%%%%%%%%%%%%%%% Report Definitions %%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Customize below to suit your needs
%: The optional ones can be left blank.

%: # Project Type
%: Enter 'Project' / 'Independent Study' / 'Thesis'
\def\worktype{Project}
\def\thaiworktype{ปริญญานิพนธ์}

%: # Credits
%: Enter number based on your subject's credits
\def\disscredit{18}

%: # Fulfillment; 'Degree' or 'Subject'
%: Set to 'Degree' for senior project or thesis
%: 'Subject' for any subject project report i.e. soft-eng final report
\def\fulfillment{Degree}

%: # Titles
\def\disstitleone{Query Assistance}
\def\thaidisstitleone{Query Assistance}
\def\disstitletwo{}
\def\disstitlethree{}
\def\thaidisstitletwo{}
\def\thaidisstitlethree{}

%: # Authors
\def\dissauthor{Ms. Shayathip Dumkum}
\def\thaidissauthor{นางสาวชยาทิพย์ ดำคำ}
\def\dissauthortwo{Mr. Ramin Suchatnitikul}
\def\thaidissauthortwo{นายรามิล สุชาตินิติกุล}
\def\dissauthorthree{}
\def\thaidissauthorthree{}

%: # Diploma
%: If you're still an undergraduate having not
%: graduated from any degree; leave these fields empty
%: Example: B.Eng. (Computer Engineering)
\def\dissdiplomaone{}
\def\dissdiplomatwo{}
\def\dissdiplomathree{}
\def\thaidissdiplomaone{}
\def\thaidissdiplomatwo{}
\def\thaidissdiplomathree{}

%: Advisors
\def\dissadvisor{Asst.Prof. Santitham Prom-on, Ph.D.} % Advisor
\def\thaidissadvisor{ผศ.ดร.สันติธรรม พรหมอ่อน}

%: Leave empty if you have no co-advisor
\def\disscoadvisor{} % Co-advisor (optional)
\def\disscoadvisortwo{} % Co-advisor (optional)
\def\thaidisscoadvisor{}
\def\thaidisscoadvisortwo{}

%: # Committees
%: Note that senior projects have no committee chair
\def\disscommitteechair{} % Committee chair (optional)
\def\thaidisscommitteechair{}

%: Leave the following empty if no person is in that position
%: Your project or independent study's committee
%: Example of appropriate advisor/committee name entries
%: Example 1: Asst. Prof. Dr.Ing Priyakorn Pusawiro
%: Example 2: Jaturon Harnsomburana, Ph.D.
\def\disscommitteetwo{Asst.Prof. Rajchawit Sarochawikasit, Ph.D} % Committee member
\def\disscommitteethree{Unchalisa Taetragool, Ph.D.} % Committee member (optional)
\def\disscommitteefour{Asst. Prof. Jumpol Polvichai, Ph.D.} % Committee member (optional)
\def\thaidisscommitteetwo{ผศ.ราชวิชช์ สโรชวิกสิต}
\def\thaidisscommitteethree{ดร.อัญชลิสา แต้ตระกูล}
\def\thaidisscommitteefour{ผศ.ดร. จุมพล พลวิชัย}

%: # Degree
%: Degree that you're pursuing
\def\dissdegree{Bachelor of Engineering} % Name of the degree
\def\thaidissdegree{วิศวกรรมศาสตรบัณฑิต}
\def\dissdegreeabrev{B.Eng.} % Abbreviation of the degree
\def\dissyear{2024}  % Year of submission
\def\thaidissyear{2567} % Year of submission (in B.E.)

%: # Department and Institution Information
\def\institute{King Mongkut's University of Technology Thonburi}
\def\fieldofstudy{Computer Engineering}
\def\department{Computer Engineering}
\def\faculty{Faculty of Engineering}
\def\thaiinstitute{มหาวิทยาลัยเทคโนโลยีพระจอมเกล้าธนบุรี}
\def\thaifieldofstudy{วิศวกรรมคอมพิวเตอร์}
\def\thaidepartment{วิศวกรรมคอมพิวเตอร์}
\def\thaifaculty{วิศวกรรมศาสตร์}

%%%%%%%%%%%%%%%%%%% Front Page / Signature Page %%%%%%%%%%%%%%%%%%%%%
\begin{document}
\pdfstringdefDisableCommands{
  \let\MakeUppercase\relax
}

\genfrontpages{kmutt.jpg}{2.8cm}
%%%%%%%%%%%%%%%%%%%%%%%%% English abstract %%%%%%%%%%%%%%%%%%%%%%%%%%

\def\abstcontent{
  In the fast-paced business world, data plays a critical role in driving decision-making, solving problems, and improving operations. However, relying on specialists to retrieve data can be both costly and time-consuming. To address this challenge, Query Assistance is proposed as a tool to simplify data access, enabling users to efficiently retrieve data from databases without requiring SQL expertise. Designed for fast-growing travel technology companies like Agoda, Query Assistance aims to save time, cost, and resources while improving data accessibility for non-technical staff.

  Query Assistance leverages Large Language Models (LLMs) and LangChain as its core technologies. LLMs are utilized to debug SQL queries, optimize query performance, and translate natural language inputs into SQL queries. LangChain provides a robust framework for building agents that understand user inputs, generate responses, and interact with data. By integrating metadata includes table names, table descriptions, columns name, columns types, etc. from OpenMetadata, the tool ensures accurate column and table selection, enabling informed decision-making. This innovative tool is designed to enhance SQL operations, streamline data retrieval, and empower users to access data quickly and effectively, driving efficiency and productivity in data-driven organizations.

}
\def\abstkeyword{
  SQL query language, Large Language Model (LLM), LangChain, GPT, Query optimization, Multi-agent

}

%%%%%%%%%%%%%%%%%%%%%%%%%%% Thai abstract %%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\thabstcontent{
  \justify{
    ในโลกธุรกิจที่มีการเปลี่ยนแปลงอย่างรวดเร็ว ข้อมูลถือเป็นองค์ประกอบสำคัญที่ช่วยสนับสนุนการตัดสินใจ การแก้ปัญหา และการปรับปรุงประสิทธิภาพการดำเนินงาน อย่างไรก็ตาม การพึ่งพาผู้เชี่ยวชาญในการดึงข้อมูลจากฐานข้อมูลนั้นเป็นกระบวนการที่ใช้ทั้งเวลาและค่าใช้จ่ายสูง เพื่อแก้ไขปัญหาดังกล่าว โครงการนี้จึงได้พัฒนาเครื่องมือที่ชื่อว่า “Query Assistance” ซึ่งมีวัตถุประสงค์เพื่ออำนวยความสะดวกในการเข้าถึงข้อมูล ช่วยให้ผู้ใช้งานสามารถดึงข้อมูลจากฐานข้อมูลได้อย่างมีประสิทธิภาพ โดยไม่จำเป็นต้องมีความรู้ด้านภาษา SQL

    Query Assistance อาศัยเทคโนโลยี Large Language Models (LLMs) และเฟรมเวิร์ก LangChain เป็นแกนหลัก โดย LLMs ถูกนำมาใช้ในการแก้ไขข้อผิดพลาดของคำสั่ง SQL ปรับปรุงประสิทธิภาพในการประมวลผล และแปลงข้อความภาษาธรรมชาติให้เป็นคำสั่ง SQL ในขณะที่ LangChain ช่วยในการจัดการตัว Agent ที่สามารถเข้าใจคำสั่งของผู้ใช้ สร้างคำตอบ และโต้ตอบกับข้อมูลได้อย่างมีประสิทธิภาพ นอกจากนี้ ระบบยังได้เชื่อมต่อกับ OpenMetadata เพื่อนำข้อมูลเมตาของตารางและคอลัมน์มาใช้ในการประมวลผล ซึ่งช่วยเพิ่มความแม่นยำในการเลือกข้อมูลและการตัดสินใจ เครื่องมือนี้ถูกออกแบบมาเพื่อช่วยให้องค์กรที่ขับเคลื่อนด้วยข้อมูล โดยเฉพาะบริษัทเทคโนโลยีด้านการท่องเที่ยวที่มีการเติบโตอย่างรวดเร็ว เช่น Agoda สามารถลดต้นทุน ประหยัดเวลา และเพิ่มประสิทธิภาพในการเข้าถึงข้อมูลให้แก่บุคลากรที่ไม่ได้มีพื้นฐานด้านเทคนิค

  }
}
\def\thabstkeyword{
  SQL query language, Large Language Model (LLM), LangChain, GPT, Query optimization, Multi-agent
}

\genabstract

%%%%%%%%%%%%%%%%%%%%%%%%% Acknowledgments %%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\prefacecontent{
  We would like to express our deepest gratitude to our professor, Asst.Prof. Santitham Prom-on, Ph.D., and the committee for their invaluable guidance, support, and encouragement throughout this project. Their mentorship and constructive feedback have been instrumental in shaping the direction and success of our work. We are truly grateful for their time, effort, and dedication in helping us improve and refine this project.

  We would also like to extend my heartfelt thanks to Agoda for providing us with the incredible opportunity to work on this project. The resources, tools, and collaborative environment offered by Agoda have been essential in enabling us to learn, grow, and contribute meaningfully. Lastly, We are deeply appreciative of the advice and help we received from our mentors and colleagues. Their insights, encouragement, and expertise have been invaluable in overcoming challenges and enhancing the quality of this project. This experience has been both enriching and rewarding, and We are sincerely thankful to everyone who supported us along the way.

}

\genpreface

%%%%%%%%%% Table of contents and report elements lists %%%%%%%%%%%%%%
%: The commands below automatically generate the table
%: of content, list of tables, list of figures, and list of listings
%: # Table of content
\tableofcontents

%: # Table of report elements (auto-generated)
\newcommand{\tableraglf}[1]{\RaggedRight{#1}}
\listoftables
\listoffigures
% \listofprograms % consists of 'lst' from package listings

%: # List of symbols (manually added)
% \listofsymbols
% \justifying{
%   \centering{\bf{\textit{(Example list of symbols...)}}} \\
%   %: You can adjust width to suit your word length
%   \begin{tabular}{@{}p{0.07\textwidth}p{0.7\textwidth}p{0.1\textwidth}}
%     \textbf{SYMBOLS} &                                     & \textbf{UNIT} \\[0.2cm]
%     $\alpha$         & \tableraglf{Test variable}\hfill    & m$^2$         \\
%     $\lambda$        & \tableraglf{Interarival rate}\hfill & jobs/second   \\
%     $\mu$            & \tableraglf{Service rate}\hfill     & jobs/second   \\
%   \end{tabular}
% }

%: # List of vocab and technical terms (manually added)
\listofvocab
\begin{flushleft}
  \centering{\bf{\textit{(Example list of vocabs...)}}} \\
  %: You can adjust width to suit your word length
  \begin{tabular}{@{}p{1.2in}@{\hspace{0.08in}=\extracolsep{0.2in}}p{4in}}
    LLM   & Large Language Model \\
    SQL & Structured Query Language \\
    API  & Application programming interface \\
    REST & Representational State Transfer \\
    MVC & Model-View-Controller \\
    MAS & Multi-Agent System \\
    RAG & Retrieval-Augmented Generation \\
    AI & Artificial Intelligence \\
    ORM & Object-Relational Mapping \\
    CaaS & Container as a Service \\
    CI & Continuous Integration \\
    ML & Machine Learning \\
    UI & User Interface \\
    ORDBMS & Object-Relational Database Management System \\
    HDFS & Hadoop Distributed File System \\
    MPP & Massively Parallel Processing \\
    CBO & Cost-Based Optimizer \\
    OLAP & Online Analytical Processing \\
    CPU & Central Processing Unit \\
    RDD & Resilient Distributed Dataset \\
    UML & Unified Modeling Language \\
    CSV & Comma Separated Values \\
  \end{tabular}
\end{flushleft}

%%%%%%%%%%%%%%%%%%%%%%%%%%%% Contents %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Insert your contents chapter by chapter here
%: using \input{path\to\chapter\tex}

\input{chapters/1/chapter1}
\input{chapters/2/chapter2}
\input{chapters/3/chapter3}
\input{chapters/4/chapter4}
\input{chapters/5/chapter5}

%%%%%%%%%%%%%%%%%%%%%%%%%%% Bibliography %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Comment this in your report to show only references you have
%: cited. Otherwise, all the references below will be shown.
% \nocite{*}

%: Use the bst files for bibtex bibliography style
%: You must have bib files in the referred directories
%: You may go to file .bbl to manually edit the bib items.

%: Improve url breaks to prevent unnecessary big white spaces in some cases
\makeatletter
\g@addto@macro{\UrlBreaks}{\UrlOrds}
\makeatother

%: # Biblatex
%: Add biblatex for managing bibs
%: Uncomment this if you're using Biblatex
% \printbibliography[heading=bibintoc,title={บรรณานุกรม}]

%: # Latex built-in bibliography
%: Uncomment \bibliographystyle and \bibliography if you're using biblatex above
%: References style
%: Examples: \bibliographystyle{bibstyle/kmutt}
\bibliographystyle{bib/kmutt.bst}

%: References files
%: Examples: \bibliography{example/string,example/string2,example/cpe}
\bibliography{bib/cpe.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%% Appendices %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%: Insert your appendices here the same way you insert content
%: chapters using \input{path\to\appendix\tex}

%: Define new 'appendix' name if there are multiple 'appendices'
% \def\appendixnames{Appendices}

% \input{appendices/A/appendixA}
% \input{appendices/B/appendixB}

\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%% REPORT END %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
